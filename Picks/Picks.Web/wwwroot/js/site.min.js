function GetAllTags(){$.ajax({type:"GET",url:"/home/gettags",success:function(n){$.each(n,function(n,t){$(".search-box").append(new Option(t,t))})}})}function GetAllImages(n){$("#imageContainer").empty();$.ajax({type:"Post",url:"/home/GetImages",data:{search:n},success:function(n){$.each(n,function(n,t){var i=['<div class="image-box col-md-3 mt-4">','<img src="/uploads/'+t.FileName+'">',"<div>",'<span class="btn btn-success addToBasket"> <i class="fa fa-shopping-basket" aria-hidden="true"><\/i><\/span>','<a href="/uploads/'+t.FileName+'" class="btn btn-info" download><i class="fa fa-cloud-download" aria-hidden="true"><\/i><\/a>',"<\/div > ","<\/div>"].join("");$("#imageContainer").append(i)});$("#uploadForm").trigger("reset");GetAllTags()}})}$(document).ready(function(){GetAllTags();GetAllImages();$(".search-box").select2()});$(document).on("click",".addToBasket",function(){var n=$(this).closest(".image-box").children("img").attr("src");n=n.replace("/uploads/","");$(".imageList").append(['<span class="col-12 mt-2 cart-item">'+n,'<div class="float-right">','<a href="/uploads/'+n+'" class="cart-url btn btn-info mr-2" download><i class="fa fa-cloud-download" aria-hidden="true"><\/i><\/a>','<span class="btn btn-danger removeCartItem"><i class="fa fa-times" aria-hidden="true"><\/i><\/span>',"<\/div>","<\/span>"].join(""))});$(document).on("click",".removeCartItem",function(){$(this).closest(".cart-item").remove()});$("#addImage form").submit(function(n){var t,i;n.preventDefault();$("#addImage form input[type='file']")[0].files.length>0&&(t=new FormData,$.each($("input[type='file']")[0].files,function(n,i){t.append("files",i)}),i=$("#imageTags").val(),t.append("tags",i),$.ajax({type:"POST",url:"/home/upload",cache:!1,contentType:!1,processData:!1,data:t,success:function(){$(".closeUpload").click();GetAllImages()},error:function(){$("#errorMessage").text("Something went wrong with the upload, make sure you upload images only!");$("#errorMessage").show()}}))});$("#generateZip").click(function(){$("#downloadAll").hide();var n=[];$(".cart-item").each(function(){n.push($(this).text())});$.ajax({type:"post",url:"/home/getZipUrl",data:{images:n},success:function(n){console.log(n);$("#downloadAll").attr("href","/zip/"+n);$("#downloadAll").show()}})});$(".search-box").on("change",function(){var n=$(this).val();GetAllImages(n)});